<h3>Hibernate Architecture :</h3>
<p class="text-justify">The Hibernate architecture includes many objects persistent object, session factory, transaction factory, connection factory, sessions,mapping files,configuration files.</p>
<p class="text-justify">There are 4 layers in hibernate architecture java application layer, hibernate framework layer, database layer and backhand api layer.Let's see the diagram of hibernate architecture:</p>
<p class="text-justify">@IMG_START@HIBERNATE/hibernate3/jpg@IMG_END@</p><br>
<p class="text-justify">Hibernate framework uses many objects session factory, session, transaction etc. alongwith existing Java API such as JDBC (Java Database Connectivity), JTA (Java Transaction API) and JNDI (Java Naming Directory Interface).</p>
<h3 class="subheading">Elements Of Hibernate Architecture :</h3>
<p class="padding-left text-justify">For creating the first hibernate application, we must know the elements of Hibernate architecture. They are as follows:</p>
<h3 class="subheading">SessionFactory :</h3>
<p class="text-justify">SessionFactory is an interface present in <b>org.hibernate</b> package.SessionFactoryImpl is an implemented class of SessionFactory interface.SessonFactory is heavy weight object that has to be created only once per application.SessionFactory is not a singleton.SessionFactory object provides lightweight session object's.Generally one sessionfactory should be created for one database.When you have multiple databases in your application you should create multiple SessionFactory objects.If you are using two databases called mysql and oracle in your hibernate application then you need to build 2 SessionFactory Objects's.SessionFactory is long live multithreaded object.SessionFactory is a ThreadSafe object.</p>
<h4>Sample code is</h4>
<p>Configuration cfg=new Configuration();<br>
cfg.configure("/hibernate.cfg.xml");<br>
SessionFactory sessionFactory =cfg.buildSessionFactory();<br>
</p>
<h3 class="subheading">Session :</h3>
<p class="text-justify">Session is an interface present in <b>org.hibernate</b> package and SessionImpl is an implemented class.Session object is called  persistent manager for the hibernate application.It is single-threaded(not-thread safe),short-lived object.It encapsulates the functionality of JDBC connection,statement objects.It has convenient methods to perform persistent operations.When a session is opened then internally a connection with database will be established.It is a factory for Transaction objects.Session Holds a mandatory(first-level) cache of persistent objects.</p>
<h3 class="subheading">Transaction :</h3>
<p class="text-justify">In hibernate framework, we have Transaction interface that defines the unit of work. It maintains abstraction from the transaction implementation (JTA,JDBC).</p>
<p><b>Using Session Object we can create Transaction object in two ways they are...</b><br>
1.Transaction transaction =session.getTransaction();<br>
2.Transaction transaction =session.beginTransaction();<br>
Transaction object is unique per session object.<br>
Transaction interface defines following  methods to  deal with transactions.</p><br>
<p class="text-justify">transaction.begin();{Transaction begining}<br>
	transaction.commit();{Transaction successfully ended}<br>
	transaction.rollback();{un successful transaction ending}<br>
	Default auto commit value is false in Hibernate.<br>
	Default auto commit  value is true in JDBC.<br>
<h4>Sample code is </h4>
@CODE_START@@HIBERNATE@Session session = sessionFactory.openSession();
Transaction tx=null;
try{
	tx=session.beginTransaction();
	//DML operations.
	tx.commit();
}
catch(Exception e){
	tx.rollback();
}
finally{
session.close();								
}@CODE_END@ 
<h3 class="subheading">ConnectionProvider :</h3>
<p class="padding-left text-justify">It is a factory of JDBC connections. It abstracts the application from DriverManager or DataSource. It is optional.The connection provider class is usually used if you want to use connection pooling.Another use for connection provider is to uphold sessions over time, this is especially true with the combination of mysql + hibernate. If you don't have a properly configured connection provider that handles timeouts from mysql.</p>
<h3 class="subheading">query object</h3>
<p class="text-justify">Query objects use SQL or Hibernate Query Language (HQL) string to retrieve data from the database and create objects. A Query instance is used to bind query parameters, limit the number of results returned by the query, and finally to execute the query.</p>
<h3 class="subheading">criteria object</h3>
<p class="text-justify">Criteria is a simplified API for retrieving entities by composing Criterion objects. This is a very convenient approach for functionality like "search" screens where there is a variable number of conditions to be placed upon the result set.</p>
<p class="text-justify">The Session is a factory for Criteria. Criterion instances are usually obtained via the factory methods on Restrictions.</p>
<h4>Sample code is </h4>
@CODE_START@@HIBERNATE@List cats = session.createCriteria(Cat.class)
 .add( Restrictions.like("name", "Iz%") )
 .add( Restrictions.gt( "weight", new Float(minWeight) ) )
 .addOrder( Order.asc("age") )
 .list();@CODE_END@
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		  